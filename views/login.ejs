<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <title>Login</title>


  <%- include('partials/head.ejs') %>
    <style>
      .loginDiv {
        position: relative;
        display: inline-block;
        width: 100%;
      }

      .loginIcon {
        position: absolute;
        right: 10px;
        top: 35%;
        cursor: pointer;
        color: #6c757d;
      }
    </style>
</head>

<body>
  <%- include('partials/nav.ejs') %>

    <div class="container mt-5" style="max-width: 500px;">
      <h2 class="text-center mb-4">Login to MealMatch</h2>

      <form action="/login" method="post" class="card shadow-sm p-4">
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <div class="loginDiv">
            <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password"
              required>
            <span class="bi bi-eye loginIcon" id="eyeIcon"></span>
          </div>
        </div>

        <div class="d-grid">
          <button type="submit" class="btn btn-success">Login</button>
        </div>

        <div class="text-center mt-3">
          <small>Don't have an account?
            <a href="/create" class="text-success text-decoration-none">Create one here</a>.
          </small>
        </div>
      </form>
    </div>

    <%- include('partials/foot.ejs') %>


      <script>
        const eyeIcon = document.querySelector("#eyeIcon");
        const pwd = document.querySelector("#password");

        eyeIcon.addEventListener("click", () => {
          const hidden = pwd.type === "password";
          pwd.type = hidden ? "text" : "password";
          eyeIcon.classList.toggle("bi-eye", !hidden);
          eyeIcon.classList.toggle("bi-eye-slash", hidden);
        });
      </script>
</body>

</html>